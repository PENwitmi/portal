# CLAUDE.md

このファイルは、このリポジトリで作業する際のClaude Code (claude.ai/code)への指針を提供します。

## プロジェクト概要

薬学生向けポータルサイト「薬学生のためのサイト」。3つの学習サービスへの統一的な入口として機能する。

統合サービス：
1. **OkusuriNote** - 包括的な薬剤図鑑
2. **PharmTimer** - 学習時間管理アプリ
3. **誰でも薬理マスター** - ゲーミフィケーション薬理学習

デプロイ先：`pharm.nishimoto-learning.jp/`（URLリライトで各サービスにアクセス）

**重要な注意事項**：
- 現在、LPサイトがルートディレクトリ（/）のホームページとして稼働中
- 本ポータルサイト完成後に、LPサイトを/lp/へ移動し、ポータルをルートに配置予定
- 開発中は本ポータルは別環境でテストし、完成後に切り替えを実施

## 実装状況（2025-07-18 14:56 更新）

### ✅ 実装済み機能
- **基本構造**: 医療系サイトに相応しい信頼感のあるHTML/CSS実装
- **レスポンシブデザイン**: モバイルファースト設計（320px〜1920px対応）
- **サービスカード**: 3つのサービスを魅力的に紹介
- **お知らせ機能**: 動的読み込み、アコーディオン実装
- **アニメーション**: スクロール連動、ホバーエフェクト
- **インタラクション**: スムーズスクロール、エラーハンドリング
- **個別学習サポートセクション**: 勉強法サポートのLP案内
- **フルワイドセクション**: 各サービスを没入感のある全幅デザインで表現（2025-07-18追加）
- **準フルワイドサポートセクション**: 効率的な勉強法サポートを視覚的に統合（2025-07-18 14:56追加）

### 実装ファイル一覧
- `index.html` - セマンティックHTML、SEO/OGP対応、フルワイドセクション追加
- `assets/css/components.css` - 汎用UIコンポーネント（約270行）
- `assets/css/style.css` - サイト固有スタイル（約440行）
- `assets/css/fullwidth-sections.css` - フルワイドセクション専用スタイル（約550行、2025-07-18追加）
- `assets/js/main.js` - インタラクション機能（約230行、フルワイドセクション対応追加）
- `data/updates.json` - 初期お知らせデータ（10件）
- `vercel.json` - デプロイ設定（リライトルール）

### フルワイドセクション実装詳細（2025-07-18）
- **デザイン仕様準拠**: project-docs/2025-07-18-fullwidth-sections-redesign/に基づく実装
- **各セクション特徴**:
  - お薬ノート: 六角形分子構造パターン、信頼感のある青系配色
  - 薬理マスター: カラフルなゲーム要素、楽しさを表現
  - タイマー: 時計パターン、集中を促す落ち着いた配色
- **画像効果**: PC画面に3D perspective効果、モバイル画面にデバイスフレーム
- **レスポンシブ対応**: 768px以下で縦積みレイアウトに変更
- **追加実装**（09:22完了）:
  - パララックス効果: requestAnimationFrameで最適化
  - セクション間トランジション: 波形、グラデーション、斜め線
  - GPU加速: will-changeとtransform: translateZ(0)
  - 画像最適化: loading="lazy"実装済み（一部画像サイズ要最適化）
  - レスポンシブ改善: タッチデバイス対応、装飾要素制御
  - アクセシビリティ強化: スキップリンク、ARIA属性、キーボード操作

### 準フルワイドサポートセクション実装詳細（2025-07-18 14:56）
- **デザインコンセプト**: フルワイドセクションの視覚的統一感を保ちながら控えめな存在感
- **レイアウト**: 40%/60%グリッド構造（フルワイドセクションと同じ）
- **ビジュアル要素**: 
  - 時間比較サークル（2000時間→180時間）
  - アニメーション付き矢印
  - 91%時間短縮バッジ
- **背景色**: #f0f4ff（淡い青系、主張しすぎない）
- **高さ**: フルワイドセクションの60-70%に調整
- **レスポンシブ**: モバイルでコンテンツを上、ビジュアルを下に配置

作業時間：初回約7分（05:28:36 〜 05:35:45）+ フルワイドセクション約36分（08:46 〜 09:22）+ 準フルワイド化約10分（14:46 〜 14:56）

## アーキテクチャの重要な決定事項

### 静的サイトアプローチ
- 純粋なHTML/CSS/JavaScript（ビルドプロセスなし）
- 手動でのコンテンツ更新管理
- Vercelホスティング + rewrite設定

### URLリライト構造
```
/ → ポータル（本プロジェクト）
/lp/* → pharm-tutor-lp.vercel.app
/okusuri_note/* → penwitmi.github.io/okusuri_note
/timer_app/* → pharm-study-watch-app.vercel.app
/pharmaco/* → pharmaco-game.vercel.app/pharmaco
```

**注意**: pharmacoはビルド構造の都合上、destination側にも/pharmacoパスが必要

### デザイン原則
- **モバイルファーストレスポンシブ** (320px-1920px)
- **青系グラデーションテーマ** （信頼感・医療的印象）
- **モダンフラットデザイン** （微細なシャドウ・スムーズなトランジション）
- **3サービス並列表示** （優先順位なし）

## プロジェクト構造

```
pharm_portal/
├── index.html          # メインポータルページ
├── assets/
│   ├── css/
│   │   ├── style.css              # メインスタイル（サイト固有）
│   │   ├── components.css         # 再利用可能なUIコンポーネント
│   │   └── fullwidth-sections.css # フルワイドセクションスタイル
│   ├── js/
│   │   └── main.js        # お知らせ管理、インタラクション
│   └── img/
│       ├── services/      # サービススクリーンショット
│       └── common/        # 共通画像
├── data/
│   └── updates.json   # 手動更新エントリー
└── vercel.json        # リライト設定
```

## 開発コマンド

静的サイトのため、ビルドプロセスは不要：
- **ローカル開発**: `index.html`を直接開くか、`python -m http.server`等のシンプルなサーバーを使用
- **デプロイ**: Vercelに接続されたリポジトリにpush

## コンテンツ更新プロセス

お知らせは`data/updates.json`で手動管理：
```json
{
  "updates": [
    {
      "date": "2025.07.17",
      "service": "OkusuriNote",
      "content": "新薬剤ページを5件追加しました"
    }
  ]
}
```

## 実装上の注意点

### ヒーローセクション
- サイト名「薬学生のためのサイト」
- メインキャッチコピー：「ラクして楽しく、最短合格への近道」
- サブキャッチコピー：「あなたの学習スタイルに合わせた、多彩な学習ツール」

### サービスカード
各サービスカードに必須項目：
- サービス名
- 概要説明（2-3行）
- 主要機能3つ
- 利用シーン
- ホバーアニメーション付きアクセスボタン

### お知らせセクション
- 最新3件表示
- 各更新情報：日付、サービスタグ、内容
- アコーディオン方式で過去の更新を表示（同一ページ内で完結）

### フッター
- 運営者名
- 連絡先メールアドレス
- プライバシーポリシー（必要に応じて）
- 著作権表記

## 重要な制約事項

- **ユーザー認証なし**（ポータルレベルでは）
- **動的コンテンツ生成なし** - すべての更新は手動
- **3サービスに最適化** - 拡張は考慮しない設計
- **日本語優先** - SEO効果を狙う